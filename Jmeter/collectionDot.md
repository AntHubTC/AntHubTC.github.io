# JMeter集合点与关联

## JMeter集合点

​		设定存在用户然后一起来并发的操作，比如秒杀就相当于一个集合点，很多用户来执行一个操作。

操作步骤：

​		定时器  ----》 同步定时器 (Synchronizing Timer)，注意集合点要放在需要集合的元件前面。

![1582167258098](.\img\1582167258098.png)

“模拟用户组的数量”：表示线程（用户）总数量中，每次发送2笔交易（可以设置很大，大的时候就会出现错误率了）。

“超时时间以毫秒为单位”：描述准备好线程用户后1秒后进行发送。

## JMeter关联

### 正则表达式提取器

下图是要提取一个请求中的Content-Type对应的值到变量ctype中。

![1582168816881](.\img\1582168816881.png)

正则表达式部分配置说明：

- 引用名称：下一个请求要使用的变量参数名称，如ctype，则可以用${ctype}使用它

- 正则表达式 （上图就是使用了字符串边界限定的方式匹配）

  {} 括起来的部分就是要提取的。

  . 匹配任何字符串

  \+ 一次或多次

  \* 表示匹配多次

  ? 在找到第一个匹配项后停止

- 模板：用$$引用起来，如果在正则表达式中有多个正则表达式（多个括起来的内容），则可以使用$2$$3$等等。表示解析到的第几个值给title，如$1$表示解析到的第1个值。

- 匹配数字（0代表随机）：0代表随机取值，1代表全部取值。

- 缺省值：如果找不到默认缺失值。