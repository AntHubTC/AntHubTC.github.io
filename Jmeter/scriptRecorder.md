# 脚本录制

​		一种是通过Jmeter自带的脚本录制方式，这种方式不太方便，还有另一种录制方式，使用badBoy软件录制然后导出为Jmeter的jmx。

## Jmeter脚本录制

Http请求+查看结果树

代理服务器操作步骤:

- 创建一个线程组（右键点击“Test plan” ---> “add” ---> "Thread Group"）

- 创建一个http代理服务器（右键点击“Test plan” ---> “add” ---> “Non-Test Elements” ---> “HTTP(S) Test Script Recorder”）

  ```
Tip: HTTP服务器代理设置---分组详解
  	不对样本分组：所有请求全部罗列
  	在组间添加分隔：加入一个虚拟的以分割线命名的动作
  	每个组放入一个新的控制器：执行时按控制器给输出结果
  	只存储每个组的第一个样本：保存对于一个url请求
  ```
  
  ![1581918093914](.\img\1581918135115.png)
  
  设置完成后需要重启代理服务器，录制完成后记得关闭。

- IE ---> "internet 属性"（win+r inetcpl.cpl） ---> “连接”---> “局域网设置”

![1581918272277](.\img\1581918272277.png)

这时候访问你要测试的网站，jmeter这边的线程组对于我们操作的请求进行保留下来。



jmeter录制这种方法不局限于ie浏览器，所有浏览器都可以访问要录制的网站，只要对应浏览器访问网页会经过Jmeter启动的代理服务器，那么就去可以录制。

我本地的chrome有一个“谷歌访问助手”，它本身就类似一个代理设置插件，所以要这个插件停用才可以。



## BadBoy录制

下载按住BadBoy软件。

[解决badboy录制时弹框提示“当前页面的脚本发生错误”](https://www.jianshu.com/p/c9036b0db04d)

[Badboy 录制](https://www.jianshu.com/p/ea3f6fc95f0c)

录制完毕后，可以到出到JMeter  “File” ---> "Export to JMeter..."

说明：

> BadBoy是使用系统默认的浏览器，所以要更换浏览器就将windows系统默认浏览器更换就行了。
>
> 注意：我设置chrome为默认浏览器，看着BadyBoy中地址栏的图标都变成了chrome，但是有一个网站在chrome中都能运行，在badboy中就运行不了。这说明了什么，假的，badboy还是使用的ie浏览器来运行的，所以对ie浏览器支持不友好的网站，就别使用badboy来进行录制脚本了，那就是个坑。



这个软件多看看界面研究研究也基本能够使用了，所以不做笔记记录了，如果不知道怎么用再看看网上的教程。