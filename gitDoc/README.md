# Git学习

## Git历史

​	同生活中的许多伟大事件一样,Git诞生于ー个极富纷争大举创新的年代。 Linux内核开源项目有着为数众广的参与者。绝大多数的工m内核维护工作都花在了提交补丁和保存归档的繁琐事务上(1991-2002年间)。到2002年,整个项目组开始启用分布式版本控制系统 Bitkeeper来管理和维护代码。

​	到2005年的时候,开发 Bitkeeper的商业公司同 Linux内核开源社区的合作关系结東,他们收回了免费使用 Bitkeeper的权力。这就迫使Linx开源社区(特别是Linx的缔造者 Linus Torvalds)不得不吸取教训,只有开发一套属于自己的版本控制系统才不至于重蹈覆撤。他们对新的系统订了若干目标：

- 速度

- 简单的设计

- 对非线性开发模式的强力支持（允许上千个并行开发的分支）

- 完全分布式

- 有能力高效管理类似Linux内核一样的超大规模项目（速度和数据量）

  

## Git与SVN对比

### SVN

​	SVN是集中式版本控制系统,版本库是集中放在中央服务器的,而干活的时候,用的都是自己的电脑,所以首先要从中央服务器哪里得到最新的版本,然后干活,干完后,需要把自己做完的活推送到中央服务器。集中式版本控制系统是必须联网才能工作,如果在局域网还可以,带宽够大,速度够快,如果在互联网下,如果网速慢的话,就郁闷了下图就是标准的集中式版本控制工具管理方式:

![1565599084871](.\img\1565599084871.png)

​	集中管理方式在一定程度上看到其他开发人员在干什么,而管理员也可以很轻松掌握每个人的开发权限。

但是相较于其它优点而言，集中式版本控制工具缺点很明显：

- 服务器单点故障
- 容错性差



### Git

​	Git是分布式版本控制系统,那么它就没有中央服务器的,每个人的电脑就是一个完整的版本库,这样,工作的时候就不需要联网了,因为版本都是在自己的电脑上。既然每个人的电脑都有一个完整的版本库,那多个人如何协作喝?比如说自己在电脑上改了文件A,其他人也在电脑上改了文件A,这时,你们两之间只需把各自的修改推送给对方,就可以互相看到对方的修改了。

下图就是分布式版本控制工具管理方式

![1565599446338](.\img\1565599446338.png)

### git工程流程

一般工作流程如下：

1. 从远程仓库中克隆Git资源作为本地仓库；
2. 从本地仓库中 checkout代码然后进行代码修改；
3. 在提交前先将代码提交到暂存区提交修改；
4. 提交到本地仓库。本地仓库中保存修改的各个历史版本；
5. 在修改完成后，需要和团队成员共享代码时，可以将代码Push到远程仓库

下图展示了Git的工作流程：

![1565599867082](.\img\1565599867082.png)

## Git 的安装

​	最早Git是在 Linux上开发的，很长一段时间内也只能在 Linux和Unix系统上跑。不过,慢慢地有人把它移植到了 Windows上。现在Git可以在 Linux、Unix、Mac和 Windows这几大平台上正常运行了。

​	到[git官网](https://git-scm.com/)进行下载。 如果需要其它git客户端界面可以到这里[下载](https://git-scm.com/download/gui/win)，比如git for windows。

### TortoiseGit

​	Tortoise（乌龟）,  之前使用svn的时候经常使用TortoiseSVN，在git它也有相应的版本工具，名为TortoiseGit。

下载[TortoiseGit](https://tortoisegit.org/download/)，有软件本身还有各种语言补丁。

在安装了语言补丁后为什么语言没有还米有变，这个时候需要做一下设置：

![1565602708956](.\img\1565602708956.png)

这个工具提供很多的功能方便我们操作Git。

![1565603810211](.\img\1565603810211.png)

## 使用git管理文件版本

### 创建版本库

​	创建版本库后，在目录中会多一个.git的隐藏文件目录，这个目录就是本地仓库，包含这个文件夹的这个目录就被称为工作空间。

#### 使用gitBash

```bash
git init
```

#### 使用gitGUI

![1565602891715](.\img\1565602891715.png)

#### 使用TortoiseGit

​	右键菜单中，选取“git 在这里创建版本库(Y)...”。

![1565602981518](.\img\1565602981518.png)

### 向本地仓库添加文件

​	Git的版本库里存了很多东西，其中最重要的就是称为stage（或叫index）的暂存区，还有Git为我们自动创建的第一个分支master，以及指向master的第一个指针叫HEAD。

![1565604318975](.\img\1565604318975.png)

​	下面是将文件添加到暂存区。

#### 使用gitBash

```bash
git add hello.txt
```

#### 使用gitGUI

Commit -> Stage to Commit， 快捷键Ctrl + T。

![1565603616371](.\img\1565603616371.png)

#### 使用TortoiseGit

![1565603408437](.\img\1565603408437.png)

添加完毕后，TortoiseGit提供了文件图片标注：

![1565603511374](.\img\1565603511374.png)

### 向本地仓库提交文件

#### 使用gitBash

```bash
git commit -m '这是日志信息'
```

#### 使用gitGUI

![1565604682082](.\img\1565604682082.png)

#### 使用TortoiseGit

右击工作区，“Git 提交(C) -> master”。

![1565604830536](.\img\1565604830536.png)

在工作区空白处右击，选择“TortoiseGit” -> "版本库浏览器"，可以看到提交到本地库中的文件相关信息。

### 修改并提交到本地仓库

#### 使用gitBash

```
# 查看文件现在的状态
git status
# 添加文件到暂存区
git add hello.txt
# 提交修改的文件
git commit -m '修改日志信息'
```

#### 使用gitGUI

​	先将文件添加到暂存区ctrl+t，然后提交文件。

#### 使用TortoiseGit

​	这个工具直接将为我们省去了一个添加了暂存区的步骤（工具做了，不需要人去做）。

![1565605660053](.\img\1565605660053.png)

### 查看仓库日志

#### 使用gitBash

```bash
git log
```

#### 使用gitGUI

​	打开git GUI窗口，点击菜单“Repository” -> "Visualize master's History"。

![1565606080800](.\img\1565606080800.png)

#### 使用TortoiseGit

​	git菜单中，点击“显示日志”。

![1565605905471](.\img\1565605905471.png)

### 

使用gitBash

使用gitGUI

使用TortoiseGit